<!DOCTYPE html>
<html ng-app="wineobsApp">
<head>
	<title>Wineobs</title>
	<meta charset="UTF-8">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="/assets/css/app.css">
	<link rel="icon" href="/assets/img/favicon.png" type="image/x-icon" />
	<link rel="shortcut icon" href="/assets/img/favicon.png" type="image/x-icon" />
	<base href="/">
</head>
<body class="{{bodyClass}}" ng-controller="wineobsController">
	<header>
		<div class="header-content">
			<div class="header-left small-6 column no-padding">
				<div class="menu column no-padding">
					<div class="menu-open-button">
						<span class="menu-icon icon-wineobs-3lines"></span>
						<div class="menu-overlay overlay overlay-slide">
							<div class="menu-content">
								<div class="menu-close-button">
									<div>
										<span class="icon-wineobs-cross"></span>
									</div>
								</div>
								<div class="menu-items">
									<ul>
										<li><a ng-href="/" translate="INICIO">inicio</a></li>
										<li><a ng-click="susReservasClick($event)">sus reservas</a></li>
										<!-- <li><a href="">bodegas</a></li> -->
										<!-- <li><a href="">wineobs</a></li> -->
										<li><a ng-href="/contacto">contacto</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div ng-click="closeReserveTooltip()" class="cart column no-padding" ng-controller="cartController">
					<div class="cart-open-button" ng-click="cartSlided=(reservationQty?true:false)" ng-init="cartSlided=false">
						<span class="new-reserve-tooltip has-tip icon-wineobs-wine-glass" tooltip-html-unsafe="{{newReserveTooltip}}" tooltip-trigger="new-reserve" tooltip-placement="bottom"></span>
						<div ng-class="{animate: reservationQty}" class="reservation-qty-container">
							<span class="reservation-qty">{{reservationQty}}</span>
						</div>
						<div ng-class="{open: cartSlided}" class="cart-slide menu-overlay overlay overlay-slide">
							<div>
								<div ng-click="cartSlided=false" class="small-1 small-offset-11 cart menu-close-button">
									<div>
										<span class="icon-wineobs-cross"></span>
									</div>
								</div>

								<div class="row">
									<div class="small-12 columns">
										<div class="row reservation-container" ng-repeat="(k,r) in reservations | orderBy:'hour'">
											<div class="reservation-name small-12">
												{{r.winery.name}}
											</div>
											<div class="small-12">
												<div class="small-2 column">
													<h2>{{r.hour}}</h2>
												</div>
												<div class="small-3 column">
													{{r.tour.name}}
												</div>
												<div class="small-2 column">
													Idioma: {{r.language}}
												</div>
												<div class="small-2 column">
													<div class="pricing row">
														<div class="small-12 column">
															Cupos y precios
														</div>
														<div class="small-12">
															<div class="pricing-minors">
																<span ng-if="r.minors != 0">{{r.minors}} menores x {{r.tour.minors_price}}</span>
															</div>
														</div>
														<div class="small-12">
															<div class="pricing-minors">
																<span>{{r.adults}} mayores x {{r.tour.price}}</span>
															</div>
														</div>
													</div>
												</div>
												<div class="small-2 column">
													<span>Subtotal: {{r.tour.minors_price * r.minors + r.tour.price * r.adults}}</span>
												</div>
												<div class="small-1 column">
													<span ng-click="removeReserve(k)" class="icon-wineobs-cross"></span>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="header-right small-6 column">
				<div class="languages">
					<ul>
						<li><a href="">inglés</a></li>
						<li><a href="">portugués</a></li>
					</ul>
				</div>
			</div>
			<div class="header-center small-12 column">
				<div class="title">One site. One obsession</div>
				<div class="logo"></div>
			</div>
		</div>
		<div class="fake-background"></div>
	</header>

	<div class="site-content small-12" ng-view>

		<span ng-if="false">
			<div class="circles-loader" class="small-12 row text-center">
				<p style="text-align:center; font-family: BebasNeue;font-size:6rem; margin: 8rem 0 0;">
					One site. One obsession.
				</p>
				<svg class="circle-1" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-2" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-3" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-4" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
			</div>
		</span>

	</div> <!-- END SITE CONTENT -->
	<footer class="footer">
		<div class="footer-content">
			<div class="footer-left">
				<div class="facebook">
					<span class="icon-wineobs-facebook"></span>
				</div>
				<div class="twitter">
					<span class="icon-wineobs-twitter"></span>
				</div>
				<div class="insta">
					<span class="icon-wineobs-insta"></span>
				</div>
			</div>

			<div class="footer-center"></div>

			<div class="footer-right">
				<div class="mpago">
					<span class="icon-wineobs-mpago"></span>
				</div>
				<div class="paypal">
					<span class="icon-wineobs-paypal"></span>
				</div>
				<div class="lbox">
					<span class="icon-wineobs-lbox"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></span>
				</div>
			</div>
		</div>
		<div class="modals">
			<div ng-controller="reservationModalController" class="modal-info-winery">
				<div class="content show-for-large-up">
					<div class="modal-content row">
						<div class="small-3 column tabs-selector">
							<ul class="tabs vertical">
								<li ng-class="{ 'active': infoActive }" class="tab-title" ng-click="setReservationModalActiveTab('info')">
									<a>Bodega</a>
								</li>
								<li ng-class="{ 'active': toursActive }" class="tab-title" ng-click="setReservationModalActiveTab('tours')">
									<a>Tours</a>
								</li>
								<li ng-class="{ 'active': commentsActive }" class="tab-title" ng-click="setReservationModalActiveTab('comments')">
									<a>Comentarios</a>
								</li>
							</ul>
							<div class="image">
								<img ng-src="{{w.Winery.has_logo && $root.apiUrl+'/img/wineries/logos/'+w.Winery.id+'.png' || $root.apiUrl+'/img/wineries/logos/default.png'}}">
							</div>
						</div>
						<div class="small-9 column tabs-info">
							<div ng-click="closeClick()" class="close-modal">
								<span class="icon-wineobs-cross"></span>
							</div>
							<div class="tabs-content">
								<div ng-class="{ 'active': infoActive }" class="content info-bodega" id="info-bodega">
									<h1 class="winery-name">{{w.Winery.name}}</h1>
									<p class="winery-description">{{w.Winery.description}}</p>
								</div>
								<div ng-class="{ 'active': toursActive }" class="content" id="info-tours">
									<div class="small-12 row">
										<div class="small-12 column info-tours-tabs">
											<ul class="tabs">
												<li class="tab-title" ng-click="changeActiveTour(tour.id, $index)" ng-class="{'active': isTourActive(tour.id)}" ng-repeat="tour in w.Tour">
													<a>{{tour.name}}</a>
												</li>
											</ul>
											<div class="tours-content">
												<div id="{{tour.id}}" class="tour-content small-12" ng-repeat="tour in w.Tour" ng-class="{'active': isTourActive(tour.id)}">
													<div class="description small-8 column">
														<p>{{tour.description}}</p>
													</div>
													<div class="modal-winery-reserve small-4 column">
														<div class="winery-reserve">

															<div class="winery-length">
																<div class="winery-length-title">Duracion</div>
																<div class="winery-length-grid">
																	<div class="winery-hour">{{tour.length}} hs</div>
																</div>
															</div>

															<div class="winery-hours">
																<div class="winery-hours-title">Seleccione Horario</div>
																<div class="winery-hours-grid">
																	<div ng-repeat="t in tour.Time" class="winery-hour" ng-class="{'active': isActiveHour(t.id)}" ng-click="setReservationHour(t.id)">
																		{{t.hour}}
																	</div>
																</div>
															</div>

															<div class="winery-prices">
																<div class="flex f1">
																	<div class="flex f1 fcolumn">
																		<div class="price">${{tour.price}}</div>
																		<div class="text">adultos</div>
																	</div>
																	<div class="flex f1 fcolumn">
																		<div class="price">${{tour.minors_price}}</div>
																		<div class="text">menores</div>
																	</div>
																</div>
															</div>
															<div class="flex f1">
																<div>Precio: ${{tour.minors_price * formData.quota.minors + tour.price * formData.quota.adults}}</div>
															</div>
															<div class="winery-button f1">
																<a class="wineobs-button" ng-click="makeReserve()">reservar</a>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div ng-class="{ 'active': commentsActive }" class="content info-comments" id="comments">
									<div ng-show="!w.Review.length">
										No se han hecho comentarios sobre la bodega
									</div>
									<div class="comments" ng-repeat="review in w.Review">
										<blockquote>
											{{review.review}}
											<cite>{{review.Client.full_name}}</cite>
										</blockquote>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="content hidden-for-large-up">
					<div class="modal-small small-12">
						<div ng-click="closeClick()" class="close-modal">
							<span class="icon-wineobs-cross"></span>
						</div>
						<div class="fixed-top">
							<ul class="tabs">
								<li ng-class="{ 'active': infoActive }" class="tab-title" ng-click="setReservationModalActiveTab('info')">
									<a>Bodega</a>
								</li>
								<li ng-class="{ 'active': toursActive }" class="tab-title" ng-click="setReservationModalActiveTab('tours')">
									<a>Tours</a>
								</li>
								<li ng-class="{ 'active': commentsActive }" class="tab-title" ng-click="setReservationModalActiveTab('comments')">
									<a>Comentarios</a>
								</li>
							</ul>
						</div>

						<div class="tabs-content">
							<div ng-class="{ 'active': infoActive }" class="content info-bodega" id="info-bodega">
								<h1 class="winery-name">{{w.Winery.name}}</h1>
								<p class="winery-description">{{w.Winery.description}}</p>
							</div>
							<div ng-class="{ 'active': commentsActive }" class="content info-comments" id="comments">
								<div ng-show="!w.Review.length" style="margin:5rem 0 0;">
									No se han hecho comentarios sobre la bodega
								</div>
								<div class="comments" ng-repeat="review in w.Review">
									<blockquote>
										{{review.review}}
										<cite>{{review.Client.full_name}}</cite>
									</blockquote>
								</div>
							</div>
							<div ng-class="{ 'active': toursActive }" class="content tours-bodega" id="tours-bodega">
								<div class="tours-list-scroller">
									<ul class="tours-list" ng-style="{'width': 100*w.Tour.length+'vw'}">
										<li ng-repeat="tour in w.Tour" ng-click="changeActiveTour(tour.id, $index)">{{tour.name}}</li>
									</ul>
								</div>

								<div class="winery-hours">
									<div class="winery-hours-title">Seleccione Horario</div>
									<div class="winery-hours-grid">
										<ul class="hours">
											<li ng-repeat="t in w.Tour[activeIndex].Time" class="winery-hour" ng-class="{'active': isActiveHour(t.id)}" ng-click="setReservationHour(t.id)">
												{{t.hour}}
											</li>
										</ul>
									</div>
								</div>

								<div class="button-reserve">
									<div class="winery-button">
										<a class="wineobs-button" ng-click="makeReserve()">reservar</a>
									</div>
								</div>
								<div class="description">
									{{w.Tour[activeIndex].description}}
								</div>
								<div class="winery-length small-4 column">
									<div class="winery-length-title">Duracion</div>
									<div class="winery-length-grid">
										<div class="winery-hour">{{w.Tour[activeIndex].length}} hs</div>
									</div>
								</div>

								<div class="winery-prices small-8 column">
									<div class="small-4 column">
										<div class="price">${{w.Tour[activeIndex].price}}</div>
										<div class="text">adultos</div>
									</div>
									<div class="small-4 column">
										<div class="price">${{w.Tour[activeIndex].minors_price}}</div>
										<div class="text">menores</div>
									</div>
									<div class="small-4 column">
										<div>Precio: ${{w.Tour[activeIndex].minors_price * formData.quota.minors + w.Tour[activeIndex].price * formData.quota.adults}}</div>
									</div>
								</div>
							</div>
						</div>

						<div class="mierda"> </div>
					</div>
				</div>

			</div>
		</div>
	</footer>
	<link rel="stylesheet" type="text/css" href="/assets/fonts/icons-wineobs/style.css">

	<script type="text/javascript" src="/assets/jquery/dist/jquery.min.js"></script>
	<script src="/assets/angular/angular-1.4.2/angular.js"></script>
	<script src="/assets/angular/angular-1.4.2/angular-route.js"></script>
	<script src="/assets/angular/angular-1.4.2/angular-animate.js"></script>
	<script type="text/javascript" src="/assets/js/dirPagination.js"></script>

	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDEDXVukpE4oEEhjfWmhaZctW3SobbJYV4"></script>
	<script type="text/javascript" src="/assets/js/marker-clusterer.min.js"></script>

	<script type="text/javascript" src="/assets/foundation/js/foundation.min.js"></script>
	<script type="text/javascript" src="/assets/angular-foundation/mm-foundation-tpls.min.js"></script>
	<script type="text/javascript" src="/assets/angular-translate/angular-translate.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>

	<script src="/assets/js/routes.js"></script>
	<script src="/assets/js/controllers.js"></script>
	<script src="/assets/js/services.js"></script>
	<!-- BEGIN DATEDROPPER -->
	<script src="/assets/plugins/datedropper/datedropper.js"></script>
	<link rel="stylesheet" type="text/css" href="/assets/plugins/datedropper/datedropper.css">
	<!-- END DATEDROPPER -->
	<!-- BEGIN DATEDROPPER -->
	<script src="/assets/sweetalert-master/sweetalert.min.js"></script>
	<link rel="stylesheet" type="text/css" href="/assets/sweetalert-master/sweetalert.css">
	<!-- END DATEDROPPER -->
	<script type="text/javascript">
		$(document).foundation();
		$(function(){
			// window.Wineobs.init();
		})
	</script>
	</body>
</html>
