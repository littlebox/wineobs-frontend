<div class="content results flex fcolumn" ng-controller="resultsController">
	<div class="flex fcolumn f1">

		<div class="step-header">
			<div class="flex fcolumn">
				<div class="step-number">4</div>
				<div class="step-text">
					<h2 class="step-title white-border"  translate="TITULO_PASO4">
						Seleccione las bodegas
					</h2>
				</div>
			</div>
		</div>

		<div class="step-content">
			<div ng-if="!wineries.length" class="circles-loader text-center small-12 row">
				Cargando...
				<svg class="circle-1" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-2" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-3" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
				<svg class="circle-4" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle cx="50" cy="50" r="50"/> </svg>
			</div>
			<div class="map medium-5 column show-for-medium-up">
				<div class="map-container f1"></div>
			</div>
			<div class="wineries medium-7 column">
				<div class="search" ng-class="{active: search.lenght > 0}">
					<div class="search-input">
						<input ng-model="search" ng-change="paginateWineries()" type="text">
					</div>
					<div class="search-lens">
						<div class="lens">
							<span class="icon-wineobs-lens"></span>
						</div>
					</div>
				</div>

				<ul class="small-block-grid-1 medium-block-grid-3 pagination-list">
					<li class="winery" ng-repeat="(k,w) in paginatedWineries[currentPage-1]" ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}">
						<div data-winery-id="{{w.Winery.id}}" class="winery-container" ng-click="wineryClick(w,$event)">
							<div class="winery-image">
								<div class="winery-image-background"></div>
							</div>
							<div class="winery-data">
								<div class="winery-logo text-center">
									<img src="{{logos(w)}}">
									<div class="winery-name">
										{{w.Winery.name}}
										<div class="show-for-small-only winery-address-small">
											{{w.Winery.address}} - {{w.Winery.city}}
										</div>
									</div>
								</div>
								<div class="winery-buttons text-center">
									<a ng-click="infoClick(w)" href="#"><span class="icon icon-wineobs-info"></span></a>
									<a ng-click="showGammaGalery(w)" href="#"><span class="icon icon-wineobs-photo"></span></a>
									<a href="#"><span ng-click="clickPin(w.Winery.id)" class="icon icon-wineobs-pin"></span></a>
								</div>
							</div>
						</div>
					</li>
				</ul>
				<div class="small-12 text-center pagination-container">
					<pagination total-items="totalItems" page="currentPage" items-per-page="itemsPerPage" previous-text="<" next-text=">" on-select-page="updateMarkers(page)"></pagination>
				</div>

				<!-- <div dir-pagination-controls class="pagination"></div> -->
			</div>
		</div>

		<div class="step-footer flex">
			<div>
				<a ng-href="/" class="wineobs-button" translate="BOTON_ATRAS">Anterior</a>
			</div>
			<div>
				<a ng-class="{hide: hideNext()}" ng-click="nextStep()" class="wineobs-button" translate="BOTON_ADELANTE">Siguiente</a>
			</div>
		</div>
		<div class="row small-12 text-center footer-transporte" translate="TITULO_FOOTER_TRANSPORTE">
			*El servicio de transporte no esta incluido
		</div>
	</div>

	<div class="gammaGallery">
		<div class="menu-close-button">
			<div>
				<span class="icon-wineobs-cross"></span>
			</div>
		</div>
		<iframe src="assets/GammaGallery/index.php"></iframe>
	</div>
</div>
